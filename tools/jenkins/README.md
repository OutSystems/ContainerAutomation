# Readme

This document is an appendix to the FAQ "How to automate deployment to a Docker container by using Jenkins". The Jenkins pipeline scripts detailed here (\*.groovy) refer to the Windows PowerShell module script (`HostingTechnologyModuleLoader.psm1`) that loads the functions that perform the Docker automation.

The import paths assume the ones used in the tutorial, namely in reference to `C:\jenkins`. Modify these to fit your scenario.


## Container Build Function

ContainerBuild unzips the bundle, ensures that a docker image is built and creates the .preparedone marker file.

## Container Run Function

ContainerRun stops containers running previous versions of the application, ensures that a new container is running, creates the rewrite rules and finally the .deploydone marker file.

## Container Remove Function

ContainerRemove stops any containers running the application, removes any rewrite rules specific to the app, and cleans up any leftover bundles, unzipped folders and marker files.

## Update Configurations Function

Due to the specificity of sample setup, the containers use directly the config folder generated by the deployment process as their configs volume. As the application inside the container checks for changes in the configuration file and automatically reloads them, this means that not much needs to be done by this hook: just write the .configsdone file.
